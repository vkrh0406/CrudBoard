<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header"/>
<body>
<div class="container">
    <div th:replace="fragments/bodyHeader :: bodyHeader(${username!=null}? ${username} : '')"/>
    <div>
        <table class="table table-striped">

            <tbody th:object="${boardDto}">
            <tr>
                <td>#</td>
                <td th:text="${boardDto.id}"></td>
            </tr>
            <tr>
                <td>제목</td>
                <td th:text="${boardDto.title}"></td>
            </tr>
            <tr>
                <td>작성자</td>
                <td th:text="${boardDto.writer}"></td>
            </tr>
            <div>
                <tr>

                    <td>글 내용</td>
                    <td><textarea style="margin: 0px; height: 254px; width: 100% ;" th:text="${boardDto.content}"></textarea>
                    </td>
                </tr>
            </div>
            <tr>
                <td>수정일</td>
                <td th:text="${#temporals.format(boardDto.updatedTime, 'yyyy-MM-dd HH:mm')}"></td>
            </tr>
            <tr th:if="${boardDto.getUploadFiles().size()!=0}"><td>첨부파일 : </td></tr>
            <tr th:each="uploadFile : ${boardDto.uploadFiles}">
                <td> <a th:href="|@{/attach/{id} (id=${boardDto.id},storeFileName=${uploadFile.storeFileName})}|"
                         th:text="${uploadFile.uploadFileName}" />
                </td>
            </tr>


            <tr>
                <td><button type="button" button class="w-50 h-auto btn btn-primary btn-lg"
                            th:onclick="|location.href='@{/board/edit/{id} (id=${boardDto.id})}'|" th:text="수정" /></td>
            </tr>




            </tbody>
        </table>
        <div>
            <tr th:if="${myBoard==null}">
                <td>패스워드</td>
                <form role="form" th:object="${boardDto}" th:action="@{/board/delete/{id} (id=${boardDto.id})}"
                      method="post">

                    <input type="text" name="password">
                    <!--                    <input type="hidden" th:field="*{id}">-->
                    <button type="submit" class="btn btn-primary">삭제</button>
                </form>
            </tr>
            <tr th:if="${myBoard}">
                <form role="form" th:object="${boardDto}" th:action="@{/board/delete/{id}/my (id=${boardDto.id})}"
                      method="post">

                    <input type="hidden" name="password" value="0000">
                    <!--                    <input type="hidden" th:field="*{id}">-->
                    <button type="submit" class="btn btn-primary">삭제</button>
                </form>
            </tr>

        </div>
    </div>
    <div th:replace="fragments/footer :: footer"/>
</div> <!-- /container -->
</body>
</html>